<div
  class="p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-move hover:shadow-md transition-shadow"
  (click)="edit.emit(task)"
>
  <div class="flex justify-between items-start mb-2">
    <span
      [class]="'text-xs font-semibold px-2 py-0.5 rounded ' + priorityColor"
    >
      {{ task.priority | uppercase }}
    </span>
    <button
      pButton
      icon="pi pi-trash"
      class="p-button-rounded p-button-text p-button-danger p-button-sm w-6 h-6 p-0"
      (click)="onDelete($event)"
    ></button>
  </div>
  <h3 class="text-sm font-bold text-slate-900 dark:text-slate-100 mb-1">
    {{ task.title }}
  </h3>
  <p class="text-xs text-slate-500 dark:text-slate-400 line-clamp-2">
    {{ task.description }}
  </p>

  <div class="mt-4 flex justify-between items-center text-xs text-slate-400">
    <span *ngIf="task.dueDate">{{ task.dueDate | date: 'MMM d' }}</span>
    <div
      *ngIf="assignedUser"
      class="flex items-center"
      [title]="assignedUser.name"
    >
      <img
        *ngIf="assignedUser.avatarUrl"
        [src]="assignedUser.avatarUrl"
        [alt]="assignedUser.name"
        class="w-7 h-7 rounded-full object-cover border border-slate-200 dark:border-slate-700"
      />
      <div
        *ngIf="!assignedUser.avatarUrl"
        class="w-7 h-7 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-[10px] font-bold text-slate-600 dark:text-slate-300"
      >
        {{ initials }}
      </div>
    </div>
  </div>
</div>
